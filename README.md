# <img src="images/tupac_128.png" width="40"> YAML to Annotations 

<p align="center">
  <span>This script will take your YAML file and parse it into a Kubernetes Annotation</span><br>
  <span>Should be a Customer Facing Tool to Easily transition from On-Prem Settings to Kubernetes Annotations</span><br>
</p>

### Pre-requisites

* Node

>To install with Homebrew on Mac, run `brew install node`  
[Article on Installing Node](https://www.dyclassroom.com/howto-mac/how-to-install-nodejs-and-npm-on-mac-using-homebrew)

* Clone this Repository

From your terminal, run `git clone git@github.com:stampedethegoat/yaml-to-annotations.git`, then change the directory inside the repo.

### Usage
Direct the `FILE_PATH` constant on [line 2](https://github.com/stampedethegoat/yaml-to-annotations/blob/master/yaml-to-annotations.js#L2).

Then run `node yaml-to-annotations.js` in your terminal

### Example

**conf.d/apache.yaml**

```
init_config:

instances:
  - apache_status_url: http://localhost/server-status?auto
```

**Kubernetes Annotation**
```
metadata:
  name: container_identifier
  annotations:
    ad.datadoghq.com/container_identifier.check_names: []
    ad.datadoghq.com/container_identifier.init_configs: []
    ad.datadoghq.com/container_identifier.instances: [ {"apache_status_url": "http://localhost/server-status?auto"}]
    ad.datadoghq.com/container_identifier.logs: []
```

### Version Control
- 02/08/18 `v0.0.1` --> First MVP Test
